#!/usr/bin/env bash
source venv/bin/activate
export BIOHOME=/home/bb/valejose/home/bioseq2seq
export PYTHONPATH=/home/bb/valejose/home/bioseq2seq
#python $BIOHOME/bioseq2seq/bioseq2seq/bin/train.py --input $BIOHOME/Fa/refseq_combined_cds.csv.gz --num_gpus 4 --mode combined --save-directory $BIOHOME/bioseq2seq/checkpoints/coding_noncoding/ --accum_steps 1 --max_tokens 5000 --n_enc_layers 4 --n_dec_layers 4 --model_dim 128 --max_rel_pos 10 --report-every 2500 --max-epochs 152500 
#python $BIOHOME/bioseq2seq/bin/train.py --train $BIOHOME/data/mammalian_1k_train.csv --test $BIOHOME/data/mammalian_1k_test_nonredundant_80.csv --val $BIOHOME/data/mammalian_1k_val_nonredundant_80.csv --num_gpus 4 --mode combined --save-directory $BIOHOME/checkpoints/coding_noncoding/ --accum_steps 8 --max_tokens 5000 --n_enc_layers 6 --n_dec_layers 6 --model_dim 256 --max_rel_pos 10 --report-every 1000  --max-epochs 30000 --patience 5 --lr 2.0 
#python $BIOHOME/bioseq2seq/bin/train.py --train mammalian_200-1200/mammalian_200-1200_train_balanced.csv --val mammalian_200-1200/mammalian_200-1200_val_nonredundant_80.csv --num_gpus 4 --mode translate --save-directory $BIOHOME/checkpoints/coding_noncoding/ --accum_steps 4 --max_tokens 4500 --n_enc_layers 6 --n_dec_layers 6 --model_dim 64 --max_rel_pos 8 --report-every 500 --max-epochs 100000 --patience 5 --lr 5.0
python $BIOHOME/bioseq2seq/bin/train.py --train mammalian_200-1200/mammalian_200-1200_train_balanced.csv.AUGMENTED --val mammalian_200-1200/mammalian_200-1200_val_nonredundant_80.csv --num_gpus 4 --mode bioseq2seq --save-directory $BIOHOME/checkpoints/coding_noncoding/ --accum_steps 4 --max_tokens 4500 --n_enc_layers 6 --n_dec_layers 6 --model_dim 64 --max_rel_pos 8 --report-every 500 --max-epochs 100000 --patience 5 --lr 5.0 
#python $BIOHOME/bioseq2seq/bin/train.py --train mammalian_200-1200/mammalian_200-1200_train_balanced.csv --val mammalian_200-1200/mammalian_200-1200_val_nonredundant_80.csv --num_gpus 4 --mode ED_classify --save-directory $BIOHOME/checkpoints/coding_noncoding/ --accum_steps 4 --max_tokens 4500 --n_enc_layers 6 --n_dec_layers 6 --model_dim 64 --max_rel_pos 8 --report-every 500 --max-epochs 100000 --patience 5 --lr 1.0 --checkpoint $BIOHOME/checkpoints/coding_noncoding/Nov09_20-01-51/_step_8000.pt --finetune
#python $BIOHOME/bioseq2seq/bin/train.py --train mammalian_200-1200/mammalian_200-1200_train_balanced.csv --val mammalian_200-1200/mammalian_200-1200_val_nonredundant_80.csv --num_gpus 4 --mode ED_classify --save-directory $BIOHOME/checkpoints/coding_noncoding/ --accum_steps 4 --max_tokens 4500 --n_enc_layers 6 --n_dec_layers 6 --model_dim 64 --max_rel_pos 8 --report-every 500 --max-epochs 100000 --patience 5 --lr 1.0


